{"version":3,"sources":["../../src/Tools/Dot.js"],"names":["Dot","get","object","dotpath","undefined","parts","split","obj","i","length","test","parseInt","set","value","nextObj","Array","isArray","index","key"],"mappings":";;;;;;;AAAe,MAAMA,GAAN,CAAU;AACX,SAAHC,GAAG,CAACC,MAAD,EAASC,OAAT,EAAkB;AACxB,QAAID,MAAM,KAAKE,SAAX,IAAwBF,MAAM,KAAK,IAAvC,EAA6C;AACzC,aAAOA,MAAP;AACH;;AACD,UAAMG,KAAK,GAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,CAAd;AACA,QAAIC,GAAG,GAAGL,MAAV;;AACA,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,UAAI,OAAOE,IAAP,CAAYL,KAAK,CAACG,CAAD,CAAjB,CAAJ,EAA2B;AACvBD,QAAAA,GAAG,GAAGA,GAAG,CAACI,QAAQ,CAACN,KAAK,CAACG,CAAD,CAAN,CAAT,CAAT;AACH,OAFD,MAEO;AACHD,QAAAA,GAAG,GAAGA,GAAG,CAACF,KAAK,CAACG,CAAD,CAAN,CAAT;AACH;;AACD,UAAID,GAAG,KAAKH,SAAR,IAAqBG,GAAG,KAAK,IAAjC,EAAuC;AACnC,eAAOH,SAAP;AACH;AACJ;;AACD,WAAOG,GAAP;AACH;;AAES,SAAHK,GAAG,CAACV,MAAD,EAASC,OAAT,EAAkBU,KAAlB,EAAyB;AAC/B,UAAMR,KAAK,GAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,CAAd;AACA,QAAIC,GAAG,GAAGL,MAAV;;AAEA,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAAN,GAAe,CAAnC,EAAsCD,CAAC,EAAvC,EAA2C;AACvC,UAAIM,OAAJ;;AACA,UAAI,QAAQJ,IAAR,CAAaL,KAAK,CAACG,CAAC,GAAG,CAAL,CAAlB,KAA8BH,KAAK,CAACG,CAAC,GAAG,CAAL,CAAL,KAAiB,GAAnD,EAAwD;AACpDM,QAAAA,OAAO,GAAG,EAAV;AACH,OAFD,MAEO;AACHA,QAAAA,OAAO,GAAG,EAAV;AACH;;AACD,UAAIC,KAAK,CAACC,OAAN,CAAcT,GAAd,CAAJ,EAAwB;AACpB,cAAMU,KAAK,GAAGZ,KAAK,CAACG,CAAD,CAAL,KAAa,GAAb,GAAmBD,GAAG,CAACE,MAAvB,GAAgCE,QAAQ,CAACN,KAAK,CAACG,CAAD,CAAN,CAAtD;AACAD,QAAAA,GAAG,GAAGA,GAAG,CAACU,KAAD,CAAH,GAAaV,GAAG,CAACU,KAAD,CAAhB,GAA2BV,GAAG,CAACU,KAAD,CAAH,GAAaH,OAA9C;AACH,OAHD,MAGO;AACHP,QAAAA,GAAG,GAAGA,GAAG,CAACF,KAAK,CAACG,CAAD,CAAN,CAAH,GAAgBD,GAAG,CAACF,KAAK,CAACG,CAAD,CAAN,CAAnB,GAAiCD,GAAG,CAACF,KAAK,CAACG,CAAD,CAAN,CAAH,GAAgBM,OAAvD;AACH;AACJ;;AAED,QAAII,GAAG,GAAGb,KAAK,CAACA,KAAK,CAACI,MAAN,GAAe,CAAhB,CAAf;;AACA,QAAIS,GAAG,KAAK,GAAR,IAAeH,KAAK,CAACC,OAAN,CAAcT,GAAd,CAAnB,EAAuC;AACnCW,MAAAA,GAAG,GAAGX,GAAG,CAACE,MAAV;AACH;;AACDF,IAAAA,GAAG,CAACW,GAAD,CAAH,GAAWL,KAAX;AAEA,WAAON,GAAP;AACH;;AA9CoB","sourcesContent":["export default class Dot {\r\n    static get(object, dotpath) {\r\n        if (object === undefined || object === null) {\r\n            return object\r\n        }\r\n        const parts = dotpath.split(\".\")\r\n        let obj = object\r\n        for (let i = 0; i < parts.length; i++) {\r\n            if (/^\\d+/.test(parts[i])) {\r\n                obj = obj[parseInt(parts[i])]\r\n            } else {\r\n                obj = obj[parts[i]]\r\n            }\r\n            if (obj === undefined || obj === null) {\r\n                return undefined\r\n            }\r\n        }\r\n        return obj\r\n    }\r\n\r\n    static set(object, dotpath, value) {\r\n        const parts = dotpath.split(\".\")\r\n        let obj = object\r\n\r\n        for (let i = 0; i < parts.length - 1; i++) {\r\n            let nextObj\r\n            if (/^\\d+$/.test(parts[i + 1]) || parts[i + 1] === \"$\") {\r\n                nextObj = []\r\n            } else {\r\n                nextObj = {}\r\n            }\r\n            if (Array.isArray(obj)) {\r\n                const index = parts[i] === \"$\" ? obj.length : parseInt(parts[i])\r\n                obj = obj[index] ? obj[index] : (obj[index] = nextObj)\r\n            } else {\r\n                obj = obj[parts[i]] ? obj[parts[i]] : (obj[parts[i]] = nextObj)\r\n            }\r\n        }\r\n\r\n        let key = parts[parts.length - 1]\r\n        if (key === \"$\" && Array.isArray(obj)) {\r\n            key = obj.length\r\n        }\r\n        obj[key] = value\r\n\r\n        return obj\r\n    }\r\n}"],"file":"Dot.js"}